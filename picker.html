<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8">
<title>IMG_PICKER</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<link rel="stylesheet" href="./css/common.css">
<script type="text/javascript" src="./js/jquery-1.10.2.js"></script>
<script type="text/javascript" src="./js/common.js"></script>
</head>
<body>

<!-- wrapper -->
<div id="wrapper">
	<!-- Container -->
	<div id="container">
		<div id="content">
			
			<div class="ygmPicker">

				<select multiple="multiple" class="image-picker">
				  <option data-img-src="./images/pic_01.jpg">Cute Kitten 1</option>
				  <option data-img-src="./images/pic_02.jpg">Cute Kitten 2</option>
				  <option data-img-src="./images/pic_03.jpg">Cute Kitten 3</option>
				  <option data-img-src="./images/pic_04.jpg">Cute Kitten 4</option>
				</select>

				<ul class="image-list">
					<li>
						<div class="img-area"><img src="./images/pic_01.jpg"></div>
					</li>
					<li>
						<div class="img-area"><img src="./images/pic_02.jpg"></div>
					</li>
					<li>
						<div class="img-area"><img src="./images/pic_03.jpg"></div>
					</li>
					<li>
						<div class="img-area"><img src="./images/pic_04.jpg"></div>
					</li>
				</ul>

			</div>


			<script>
				$(function(){
					var picker = $(".ygmPicker");
					var el_option = picker.find("option");
					var el_img = picker.find(".image-list .img-area img");

					// 옵션 마우스업 
					el_option.mouseup(function(e){
						el_img.parent(".img-area").removeClass("selected")
						el_option.each(function (i,e){
							if($(this).prop("selected")) {
								$(this).parents(".ygmPicker").find(".img-area").eq(i).addClass("selected");
							}
						});
					})

					// 이미지 클릭
					el_img.click(function(){
						var img = $(this);
						img.parent(".img-area").toggleClass("selected");
						// el_option.each(function(i,item){
						// 	if(img.parent(".img-area").hasClass("selected") && img.attr("src") == $(item).attr("data-img-src")) {
						// 		$(item).prop("selected",true);
						// 	} else if(!img.parent(".img-area").hasClass("selected") && img.attr("src") == $(item).attr("data-img-src")){
						// 		$(item).prop("selected",false);
						// 	}
						// })
						if (img.parent(".img-area").hasClass("selected")) {
							el_option.each(function(i,item){
								if(img.attr("src") == $(item).attr("data-img-src")) {
									$(item).prop("selected",true)
								}
							})
						} else {
							el_option.each(function(i,item){
								if(img.attr("src") == $(item).attr("data-img-src")) {
									$(item).prop("selected",false)
								}
							})
						}
					});
				})
			</script>

		
		</div>
		<!-- // #content -->
	</div>
	<!-- // #Container -->
</div>
<!-- // #wrapper -->

</body>
</html>